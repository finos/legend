<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-tutorials/services-service">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.3.1">
<title data-rh="true">Create and Consume Services | Legend</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://legend.finos.org/docs/tutorials/services-service"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Create and Consume Services | Legend"><meta data-rh="true" name="description" content="Create a Service"><meta data-rh="true" property="og:description" content="Create a Service"><link data-rh="true" rel="icon" href="/img/favicon/favicon.ico"><link data-rh="true" rel="canonical" href="https://legend.finos.org/docs/tutorials/services-service"><link data-rh="true" rel="alternate" href="https://legend.finos.org/docs/tutorials/services-service" hreflang="en"><link data-rh="true" rel="alternate" href="https://legend.finos.org/docs/tutorials/services-service" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://X69JR631XX-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-89349362-7","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>


<link rel="search" type="application/opensearchdescription+xml" title="Legend" href="/opensearch.xml">

<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Condensed:400,500,700,900|Source+Code+Pro:400,500,700,900&display=swap">
<script src="https://buttons.github.io/buttons.js"></script><link rel="stylesheet" href="/assets/css/styles.c0dd7552.css">
<link rel="preload" href="/assets/js/runtime~main.567c8e62.js" as="script">
<link rel="preload" href="/assets/js/main.613c216f.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><div class="navbar__brand"><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/legend.svg" alt="Legend" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/legend.svg" alt="Legend" class="themedImage_ToTc themedImage--dark_i4oU"></div></a></div></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/overview/legend-overview">Docs</a><a class="navbar__item navbar__link" href="/releases">Releases</a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/overview/legend-overview">Overview</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/user-journeys/build-data-model">User Journeys</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/getting-started/introduction-to-legend">Getting Started</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/showcases/showcase-projects">Showcase Projects</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/docs/tutorials/studio-workspace">Studio Tutorials</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/studio-workspace">Workspace</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/studio-package">Package</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/studio-class">Class</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/studio-enumeration">Enumeration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/studio-profile">Profile</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/studio-association">Association</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/studio-function">Function</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/studio-measure">Measure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/studio-m2m-mapping">Connect Model to Model</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/studio-relational-mapping">Connect Model to Data</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/studio-mapping-test">Mapping Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/services-runtime">Runtime</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/services-connection">Connection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/tutorials/services-service">Services</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/studio-file-generation">Generate Files</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/studio-flat-data-schema">Flat Data Schema</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/studio-text">Text</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/studio-diagram">Diagram</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/query-dataspace">Dataspaces</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/studio-schemaset">Schemaset</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/studio-binding">Binding</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/studio-persistence">Persistence</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/studio-servicestore">Service Store</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/studio-tests">Studio Tests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/studio-project-dependencies">Define Project Dependencies</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/studio-manage-model-information">Manage Model Info &amp; Workspaces</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/studio-find-models">Find Models</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/tutorials/studio-sdlc">SDLC</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/tutorials/query-builder">Query Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/reference/legend-language">Reference Docs</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/docs/community/contribute-to-legend">Community</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Create and Consume Services</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-service">Create a Service<a href="#create-a-service" class="hash-link" aria-label="Direct link to Create a Service" title="Direct link to Create a Service">​</a></h2><p>Build services on top of data queries to consume modeled data systematically. To create a service select <kbd>New Service</kbd> from the drop down menu to launch the <a href="/docs/overview/legend-features#service-editor">Service Editor</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="general-tab">General Tab<a href="#general-tab" class="hash-link" aria-label="Direct link to General Tab" title="Direct link to General Tab">​</a></h3><p>In the <kbd>General</kbd> tab of the Service Editor, users can specify metadata of their service including the service URL, documentation and owners. URL parameters can be directly defined within the {} sytnax.</p><p>   <img loading="lazy" alt="Service Editor - General" src="/assets/images/service-editor-general-3de46605f1217c499e252b5f8669941a.JPG" width="1249" height="1146" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="execution-tab">Execution Tab<a href="#execution-tab" class="hash-link" aria-label="Direct link to Execution Tab" title="Direct link to Execution Tab">​</a></h3><p>In the execution tab, users can create and edit their service query. By hitting the pencil icon button, users can edit the query using the <a href="/docs/overview/legend-features#query-builder">Query Builder</a>. Users can make changes to the query either in the user-friendly form mode or in text mode. </p><p>Additonally the bottom panel lets you define your execution context which represents the mapping and runtime used when executing your query.</p><p><strong>Multi</strong> Executions lets you use a service parameter to decide what execution context (mapping, runtime) to use. You can switch between multi and single using the top right icon on the context panel. </p><p>   <img loading="lazy" alt="Service Editor - Execution" src="/assets/images/service-editor-execution-6c79513141b42742f081ff1cd56fe1b1.JPG" width="1254" height="1143" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tests-tab">Tests Tab<a href="#tests-tab" class="hash-link" aria-label="Direct link to Tests Tab" title="Direct link to Tests Tab">​</a></h3><p>This panel lets you define tests for the services you write by specifying test data, serialization format of your test and the assertions. </p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="see-features-in-action">See features in action<a href="#see-features-in-action" class="hash-link" aria-label="Direct link to See features in action" title="Direct link to See features in action">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-service-1">Create a Service<a href="#create-a-service-1" class="hash-link" aria-label="Direct link to Create a Service" title="Direct link to Create a Service">​</a></h3><p><img loading="lazy" alt="Create a Service" src="/assets/images/create-a-service-2e3b33f68f951ec71848ae0abcebebf6.gif" width="1280" height="720" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-multi-execution-service">Create a multi execution service<a href="#create-a-multi-execution-service" class="hash-link" aria-label="Direct link to Create a multi execution service" title="Direct link to Create a multi execution service">​</a></h3><p><img loading="lazy" alt="Create a multi execution service" src="/assets/images/create-a-service-multi-execution-b54c1b6466d23d879fc0fdbd487ca6fd.gif" width="1280" height="720" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-service-test">Create a Service Test<a href="#create-a-service-test" class="hash-link" aria-label="Direct link to Create a Service Test" title="Direct link to Create a Service Test">​</a></h2><p>After setting up general information about your service as well as execution details, you can generate test data with a click of a button (or use test data you created). We highly encourage setting up tests for all services running in production. More details and <strong>video walkthrough</strong> <a href="https://github.com/finos/legend-studio/pull/1195" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-connection-test-data">Create connection test data<a href="#create-connection-test-data" class="hash-link" aria-label="Direct link to Create connection test data" title="Direct link to Create connection test data">​</a></h3><p>Click the <code>generate</code> button to automatically generate test data if possible. Otherwise, manually create test data.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="create-re-usable-test-data">Create re-usable test data.<a href="#create-re-usable-test-data" class="hash-link" aria-label="Direct link to Create re-usable test data." title="Direct link to Create re-usable test data.">​</a></h4><p>You can create test data in the <kbd>Data</kbd> element that can be easily re-used across all your service tests in your Studio project. This includes test data for external formats, relational stores and service stores. We are working on making the same functionality available in mapping tests as well - stay tuned! More details and <strong>video walkthrough</strong> <a href="https://github.com/finos/legend-studio/pull/1195" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="relational">Relational<a href="#relational" class="hash-link" aria-label="Direct link to Relational" title="Direct link to Relational">​</a></h3><p>Add relational data tables based on databases to which the service&#x27;s mapping connects. </p><p>It is unnecessary to provide all columns with test data. The columns used in the service, however, require test data. Besides, the primary keys have to be distinct.
<img loading="lazy" alt="Create connections test data - Relational" src="/assets/images/create-a-relational-service-connection-test-data-ef10dc911fd80f75f6302631a284cf50.gif" width="3482" height="1984" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="external-format-m2m">External Format (M2M)<a href="#external-format-m2m" class="hash-link" aria-label="Direct link to External Format (M2M)" title="Direct link to External Format (M2M)">​</a></h3><p>Click the <code>generate</code> button to automatically generate test data if possible. Otherwise, manually provide test data for the source class&#x27; properties that serve as the foundation for the properties used in the service. e.g. As shown in the video, _Firm&#x27;s name is used in the service, which comes from Firm&#x27;s legalName. Therefore, manually providing test data for legalName will be sufficient if the <code>generate</code> button is not working.
<img loading="lazy" alt="Create connections test data - Relational" src="/assets/images/create-a-service-connection-test-data-with-external-format-bd3742cba445cff908285033f9870596.gif" width="3584" height="2026" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="data-element">Data element<a href="#data-element" class="hash-link" aria-label="Direct link to Data element" title="Direct link to Data element">​</a></h3><p>More examples of different types of Data element creation could be found <a href="/docs/tutorials/studio-tests">here</a>.
<img loading="lazy" alt="Create connections test data - Data Element" src="/assets/images/create-a-service-connection-test-with-data-element-386f11b546bb8ec99ee72624ae33fd62.gif" width="3482" height="1984" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="service-store">Service Store<a href="#service-store" class="hash-link" aria-label="Direct link to Service Store" title="Direct link to Service Store">​</a></h4><p><img loading="lazy" alt="Create connections test data - Data Element" src="/assets/images/create-a-service-connection-test-data-with-service-store-728e766903fd9e66d256a7867293af36.gif" width="3584" height="2026" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="relational-1">Relational<a href="#relational-1" class="hash-link" aria-label="Direct link to Relational" title="Direct link to Relational">​</a></h2><p><img loading="lazy" alt="Create a service test - Relational" src="/assets/images/create-a-service-test-relational-5ac27c0774930dd313195879bd46b995.gif" width="1280" height="720" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="model-to-model">Model to Model<a href="#model-to-model" class="hash-link" aria-label="Direct link to Model to Model" title="Direct link to Model to Model">​</a></h2><p><img loading="lazy" alt="Create a service test - M2M" src="/assets/images/create-a-service-test-m2m-0d4a28737676fcaac1536bd417e0ae22.gif" width="1280" height="720" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="service-store-1">Service Store<a href="#service-store-1" class="hash-link" aria-label="Direct link to Service Store" title="Direct link to Service Store">​</a></h2><p><img loading="lazy" alt="Create a service test - ServiceStore" src="/assets/images/create-a-service-test-servicestore-0903ed768698f715c5d25ec47eea9c5c.gif" width="768" height="380" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="with-data-element">With Data Element<a href="#with-data-element" class="hash-link" aria-label="Direct link to With Data Element" title="Direct link to With Data Element">​</a></h2><p><img loading="lazy" alt="Create a service test - DataElement" src="/assets/images/create-a-service-test-servicestore-0903ed768698f715c5d25ec47eea9c5c.gif" width="768" height="380" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="with-parameters">With Parameters<a href="#with-parameters" class="hash-link" aria-label="Direct link to With Parameters" title="Direct link to With Parameters">​</a></h2><p><img loading="lazy" alt="Create a service test - Parameters" src="/assets/images/create-a-service-test-parameters-3887cdd617c578df911671375a8e1792.gif" width="1280" height="720" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="promote-a-model-to-model-mapping-query-to-a-service">Promote a model-to-model mapping query to a service<a href="#promote-a-model-to-model-mapping-query-to-a-service" class="hash-link" aria-label="Direct link to Promote a model-to-model mapping query to a service" title="Direct link to Promote a model-to-model mapping query to a service">​</a></h2><ol><li><p>Create a model-to-model mapping (find instructions here) and select the <kbd><strong>Promote to Service</strong></kbd> icon.</p></li><li><p>Add a name for the service and hit create to launch the Service Editor.</p></li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="promote-a-relational-to-model-query-to-a-service">Promote a relational-to-model query to a service<a href="#promote-a-relational-to-model-query-to-a-service" class="hash-link" aria-label="Direct link to Promote a relational-to-model query to a service" title="Direct link to Promote a relational-to-model query to a service">​</a></h2><p>This feature is not yet supported.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="consume-a-service">Consume a Service<a href="#consume-a-service" class="hash-link" aria-label="Direct link to Consume a Service" title="Direct link to Consume a Service">​</a></h2><p>Consume data services via <kbd>executable service JAR files</kbd>. As part of the project build, an executable JAR file is generated for each service defined in the project. The executable service JAR file will be published in the Gitlab project that stores the data model code. The JAR file can be consumed by any Java application.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-and-consuming-a-service-execution-jar-file">Creating and Consuming a Service Execution JAR file<a href="#creating-and-consuming-a-service-execution-jar-file" class="hash-link" aria-label="Direct link to Creating and Consuming a Service Execution JAR file" title="Direct link to Creating and Consuming a Service Execution JAR file">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h3><h4 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h4><ul><li>A Legend Studio project with a <code>Service</code> model</li><li>Familiarity with the following Legend concepts :<ul><li>Data modeling with classes, associations </li><li>Data modeling with stores, mappings, connections and runtimes </li><li>Data modeling with Legend services</li></ul></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="showcase-project">Showcase project<a href="#showcase-project" class="hash-link" aria-label="Direct link to Showcase project" title="Direct link to Showcase project">​</a></h4><ul><li><a href="/docs/showcases/showcase-projects#service-execution-jar">Service Execution JAR showcase project</a>  </li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="1-service-execution-primer">1. Service Execution Primer<a href="#1-service-execution-primer" class="hash-link" aria-label="Direct link to 1. Service Execution Primer" title="Direct link to 1. Service Execution Primer">​</a></h3><p>A &quot;service execution&quot; jar is a Java library generated from a Legend model.</p><p>Consider the service model below. It is a grouping of a data access query, a mapping to
a physical (relational) store and a specific database connection.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">Service service::persons</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">{</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  pattern: &#x27;/api/persons&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  documentation: &#x27;&#x27;;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  autoActivateUpdates: true;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  execution: Single</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    query: |domain::Person.all()-&gt;project([x|$x.name, x|$x.firmId], [&#x27;Name&#x27;, &#x27;FirmId&#x27;]);</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    mapping: mapping::firmperson;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    runtime: runtime::firmperson;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="2-service-execution-class">2. Service Execution Class<a href="#2-service-execution-class" class="hash-link" aria-label="Direct link to 2. Service Execution Class" title="Direct link to 2. Service Execution Class">​</a></h3><p>Once modeled in Legend, the Legend project&#x27;s SDLC infrastucture consumes this model and generates a Java class.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">personsService service = new personsService();</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>When executed, this class connects to the database specified in the model, queries and returns the data.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="3-building-a-service-execution-jar">3. Building a Service Execution Jar<a href="#3-building-a-service-execution-jar" class="hash-link" aria-label="Direct link to 3. Building a Service Execution Jar" title="Direct link to 3. Building a Service Execution Jar">​</a></h3><p>In the simplest case, a service execution jar is autogenerated by the Legend project&#x27;s SDLC.</p><p>To generate a service execution jar using Legend SDLC:</p><ul><li>Create a Legend Studio project </li><li>Use Legend Studio to create a Legend model. This model should include a service definition as shown above</li><li>Use Legend Studio SDLC controls or native Gitlab controls to merge your model to the master branch</li><li>Once merged, the Gitlab pipeline configured by Legend SDLC runs a code generation plugin which generate a service execution jar</li><li>The Gitlab pipeline also publishes the generated jar to a Gitlab Maven registry.</li></ul><p>As a concrete example:</p><ul><li><a href="https://legend.finos.org/studio/-/view/UAT-29500652" target="_blank" rel="noopener noreferrer">Legend Studio Project</a></li><li><a href="https://gitlab.com/finosfoundation/legend/showcase/legend-showcase-project2/-/pipelines" target="_blank" rel="noopener noreferrer">Legend Studio Project Pipeline</a></li><li><a href="https://gitlab.com/finosfoundation/legend/showcase/legend-showcase-project2/-/packages" target="_blank" rel="noopener noreferrer">Legend SDLC Generated Artifacts</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="4-using-a-service-execution-jar">4. Using a Service Execution Jar<a href="#4-using-a-service-execution-jar" class="hash-link" aria-label="Direct link to 4. Using a Service Execution Jar" title="Direct link to 4. Using a Service Execution Jar">​</a></h3><p>Just as with other stores in Legend, the logical model is mapped to the logical definition of the store.</p><p>Once a jar has been created it can be consumed like any other jar in a Java application. See:</p><ul><li><a href="https://github.com/finos/legend/blob/service-exec-jar-example/examples/service-execution-jar/legend-application/src/main/java/org/finos/legend/demo/app/LegendApplication.java" target="_blank" rel="noopener noreferrer">LegendApplication.java</a></li><li><a href="https://github.com/finos/legend/blob/service-exec-jar-example/examples/service-execution-jar/legend-application/src/test/java/org/finos/legend/demo/app/LegendApplicationTest.java" target="_blank" rel="noopener noreferrer">LegendApplicationTest.java</a></li><li><a href="https://github.com/finos/legend/blob/service-exec-jar-example/examples/service-execution-jar/legend-application/src/test/java/org/finos/legend/demo/app/LegendExecutionPlanTest.java" target="_blank" rel="noopener noreferrer">LegendExecutionPlanTest.java</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="retrieve-services-metadata-via-api-endpoints">Retrieve Services Metadata via API Endpoints<a href="#retrieve-services-metadata-via-api-endpoints" class="hash-link" aria-label="Direct link to Retrieve Services Metadata via API Endpoints" title="Direct link to Retrieve Services Metadata via API Endpoints">​</a></h2><p><em>Coming soon.</em></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="see-features-in-action-1">See features in action<a href="#see-features-in-action-1" class="hash-link" aria-label="Direct link to See features in action" title="Direct link to See features in action">​</a></h2><p><img loading="lazy" alt="consume a service" src="/assets/images/consume-service-8781f5cae56f60e03eae91a2ce34e405.gif" width="1420" height="789" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="more">More<a href="#more" class="hash-link" aria-label="Direct link to More" title="Direct link to More">​</a></h2><ul><li><a href="/docs/showcases/showcase-projects">Showcase projects</a></li><li><a href="/docs/overview/legend-features">Legend Features</a></li><li><a href="/docs/overview/legend-glossary">Legend Glossary</a></li><li><a href="/docs/reference/legend-language">Reference documentation</a></li><li><a href="/docs/tutorials/studio-workspace">Studio tutorials</a></li><li><a href="/docs/tutorials/query-builder">Query tutorials</a></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/tutorials/services-connection"><div class="pagination-nav__sublabel"></div><div class="pagination-nav__label">Connection</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/tutorials/studio-file-generation"><div class="pagination-nav__sublabel"></div><div class="pagination-nav__label">Generate Files</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#create-a-service" class="table-of-contents__link toc-highlight">Create a Service</a><ul><li><a href="#general-tab" class="table-of-contents__link toc-highlight">General Tab</a></li><li><a href="#execution-tab" class="table-of-contents__link toc-highlight">Execution Tab</a></li><li><a href="#tests-tab" class="table-of-contents__link toc-highlight">Tests Tab</a></li></ul></li><li><a href="#see-features-in-action" class="table-of-contents__link toc-highlight">See features in action</a><ul><li><a href="#create-a-service-1" class="table-of-contents__link toc-highlight">Create a Service</a></li><li><a href="#create-a-multi-execution-service" class="table-of-contents__link toc-highlight">Create a multi execution service</a></li></ul></li><li><a href="#create-a-service-test" class="table-of-contents__link toc-highlight">Create a Service Test</a><ul><li><a href="#create-connection-test-data" class="table-of-contents__link toc-highlight">Create connection test data</a></li><li><a href="#relational" class="table-of-contents__link toc-highlight">Relational</a></li><li><a href="#external-format-m2m" class="table-of-contents__link toc-highlight">External Format (M2M)</a></li><li><a href="#data-element" class="table-of-contents__link toc-highlight">Data element</a></li></ul></li><li><a href="#relational-1" class="table-of-contents__link toc-highlight">Relational</a></li><li><a href="#model-to-model" class="table-of-contents__link toc-highlight">Model to Model</a></li><li><a href="#service-store-1" class="table-of-contents__link toc-highlight">Service Store</a></li><li><a href="#with-data-element" class="table-of-contents__link toc-highlight">With Data Element</a></li><li><a href="#with-parameters" class="table-of-contents__link toc-highlight">With Parameters</a></li><li><a href="#promote-a-model-to-model-mapping-query-to-a-service" class="table-of-contents__link toc-highlight">Promote a model-to-model mapping query to a service</a></li><li><a href="#promote-a-relational-to-model-query-to-a-service" class="table-of-contents__link toc-highlight">Promote a relational-to-model query to a service</a></li><li><a href="#consume-a-service" class="table-of-contents__link toc-highlight">Consume a Service</a></li><li><a href="#creating-and-consuming-a-service-execution-jar-file" class="table-of-contents__link toc-highlight">Creating and Consuming a Service Execution JAR file</a><ul><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#1-service-execution-primer" class="table-of-contents__link toc-highlight">1. Service Execution Primer</a></li><li><a href="#2-service-execution-class" class="table-of-contents__link toc-highlight">2. Service Execution Class</a></li><li><a href="#3-building-a-service-execution-jar" class="table-of-contents__link toc-highlight">3. Building a Service Execution Jar</a></li><li><a href="#4-using-a-service-execution-jar" class="table-of-contents__link toc-highlight">4. Using a Service Execution Jar</a></li></ul></li><li><a href="#retrieve-services-metadata-via-api-endpoints" class="table-of-contents__link toc-highlight">Retrieve Services Metadata via API Endpoints</a></li><li><a href="#see-features-in-action-1" class="table-of-contents__link toc-highlight">See features in action</a></li><li><a href="#more" class="table-of-contents__link toc-highlight">More</a></li></ul></div></div></div></div></main></div></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="https://www.finos.org" class="nav-home"><img src="https://legend.finos.org/img/finos_wordmark.svg" alt="FINOS"></a></section><section class="finos finosBanner"><a href="https://www.finos.org"><img id="finosicon" src="https://legend.finos.org/img/finos_wordmark.svg" height="75px" alt="FINOS" title="FINOS"></a></section><section class="privacy finosBanner"><a href="https://www.finos.org/privacy-policy" target="_blank">Privacy Policy</a></section></footer></div>
<script src="/assets/js/runtime~main.567c8e62.js"></script>
<script src="/assets/js/main.613c216f.js"></script>
</body>
</html>